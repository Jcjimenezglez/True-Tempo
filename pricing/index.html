<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PWPTLLHZ');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T3T0PES8C0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-T3T0PES8C0');
        gtag('config', 'AW-17614436696');
    </script>
    
    <!-- Mixpanel -->
    <script type="text/javascript">
        (function(e,c){if(!c.__SV){var l,h;window.mixpanel=c;c._i=[];c.init=function(q,r,f){function t(d,a){var g=a.split(".");2==g.length&&(d=d[g[0]],a=g[1]);d[a]=function(){d.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var b=c;"undefined"!==typeof f?b=c[f]=[]:f="mixpanel";b.people=b.people||[];b.toString=function(d){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);d||(a+=" (stub)");return a};b.people.toString=function(){return b.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders start_session_recording stop_session_recording people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
        for(h=0;h<l.length;h++)t(b,l[h]);var n="set set_once union unset remove delete".split(" ");b.get_group=function(){function d(p){a[p]=function(){b.push([g,[p].concat(Array.prototype.slice.call(arguments,0))])}}for(var a={},g=["get_group"].concat(Array.prototype.slice.call(arguments,0)),m=0;m<n.length;m++)d(n[m]);return a};c._i.push([q,r,f])};c.__SV=1.2;var k=e.createElement("script");k.type="text/javascript";k.async=!0;k.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===
        e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=e.getElementsByTagName("script")[0];e.parentNode.insertBefore(k,e)}})(document,window.mixpanel||[])

        mixpanel.init('bcf2edbf4f718b186314825c2d961256', {
            autocapture: false,
            record_sessions_percent: 0,
            track_pageview: false,
            persistence: 'localStorage',
            debug: true,
            ignore_dnt: true
        })
        
        // Debug Mixpanel initialization
        console.log('üîç Mixpanel initialized:', typeof window.mixpanel);
        console.log('üîç Mixpanel track function:', typeof window.mixpanel.track);
    </script>
    <!-- End Mixpanel -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Pricing - Superfocus</title>
    <meta name="title" content="Pricing - Superfocus">
    <meta name="description" content="Choose the perfect plan for your productivity needs. Get started with Superfocus for free or upgrade to Unlimited for advanced features.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://superfocus.live/pricing">
    <meta property="og:title" content="Pricing - Superfocus">
    <meta property="og:description" content="Choose the perfect plan for your productivity needs. Get started with Superfocus for free or upgrade to Unlimited for advanced features.">
    <meta property="og:image" content="https://superfocus.live/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:type" content="image/png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://superfocus.live/pricing">
    <meta property="twitter:title" content="Pricing - Superfocus">
    <meta property="twitter:description" content="Choose the perfect plan for your productivity needs. Get started with Superfocus for free or upgrade to Unlimited for advanced features.">
    <meta property="twitter:image" content="https://superfocus.live/og-image.png">
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="72x72" href="/icon-72x72.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/icon-96x96.png">
    <link rel="icon" type="image/png" sizes="144x144" href="/icon-144x144.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/icon-512x512.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#1a1a1a">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://superfocus.live/pricing">
    
    <link rel="stylesheet" href="/style.css">
    
    <!-- Clerk -->
    <script
        async
        crossorigin="anonymous"
        data-clerk-publishable-key="pk_live_Y2xlcmsuc3VwZXJmb2N1cy5saXZlJA"
        src="https://accounts.superfocus.live/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
        type="text/javascript"
    ></script>
    
    <!-- Clerk Session Management - Enhanced for Persistent Sessions -->
    <script>
        (function() {
            console.log('üîê Starting Clerk session persistence script...');
            
            // Ensure we only load Clerk once
            let clerkInitialized = false;
            
            async function initClerkWithSession() {
                if (clerkInitialized) {
                    console.log('‚úÖ Clerk already initialized, skipping...');
                    return;
                }
                
                // Wait for Clerk SDK to be available
                let attempts = 0;
                while (!window.Clerk && attempts < 50) {
                    await new Promise(resolve => setTimeout(resolve, 100));
                    attempts++;
                }
                
                if (!window.Clerk) {
                    console.error('‚ùå Clerk SDK failed to load');
                    return;
                }
                
                console.log('üì¶ Clerk SDK available, loading session...');
                
                try {
                    // Load Clerk - this will restore the session from cookies automatically
                    await window.Clerk.load({
                        // Ensure we persist sessions across page navigations
                        isSatellite: false,
                        // Keep sessions active for longer periods
                        sessionTokenRefresh: true,
                        // Don't show any development warnings
                        appearance: {
                            elements: {
                                '::before': { content: 'none' }
                            }
                        }
                    });
                    
                    clerkInitialized = true;
                    
                    // Check if user is logged in
                    const user = window.Clerk.user;
                    if (user) {
                        console.log('‚úÖ Clerk session restored successfully for user:', user.id);
                    } else {
                        console.log('‚ÑπÔ∏è No active Clerk session found (user not logged in)');
                    }
                    
                    // Listen for session changes
                    window.Clerk.addListener((resources) => {
                        if (resources.user) {
                            console.log('‚úÖ Clerk session active:', resources.user.id);
                        } else if (resources.session === null) {
                            console.log('‚ÑπÔ∏è Clerk session ended');
                        }
                    });
                    
                    // Refresh session when user returns to the page
                    document.addEventListener('visibilitychange', async () => {
                        if (!document.hidden && window.Clerk.session) {
                            try {
                                console.log('üîÑ Page visible again, refreshing session...');
                                await window.Clerk.session.touch();
                                console.log('‚úÖ Session refreshed successfully');
                            } catch (error) {
                                console.error('‚ùå Error refreshing session:', error);
                            }
                        }
                    });
                    
                    // Periodic session refresh (every 5 minutes)
                    setInterval(async () => {
                        if (window.Clerk.session) {
                            try {
                                await window.Clerk.session.touch();
                                console.log('üîÑ Session keepalive ping sent');
                            } catch (error) {
                                console.error('‚ùå Error in session keepalive:', error);
                            }
                        }
                    }, 5 * 60 * 1000); // 5 minutes
                    
                } catch (err) {
                    console.error('‚ùå Error initializing Clerk:', err);
                }
            }
            
            // Initialize as soon as possible
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initClerkWithSession);
            } else {
                initClerkWithSession();
            }
        })();
    </script>
    
    <style>
        html {
            scroll-behavior: smooth;
        }
        
        body {
            margin: 0;
            padding: 0;
            background: #1a1a1a;
            color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            min-height: 100vh;
        }
        
        .pricing-page-header {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .pricing-page-header-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        
        .pricing-page-header-cta {
            background: #ffffff;
            border: none;
            border-radius: 500px;
            padding: 0.625rem 1.5rem;
            color: #000000;
            font-size: 0.95rem;
            font-weight: 700;
            cursor: pointer;
            transition: opacity 0.3s ease, transform 0.3s ease;
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none;
            white-space: nowrap;
        }
        
        .pricing-page-header-cta.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }
        
        .pricing-page-header-cta.visible:hover {
            background: #f0f0f0;
            transform: translateY(0) scale(1.05);
        }
        
        .pricing-page-header-cta.visible:disabled,
        .pricing-page-header-cta.visible.disabled {
            background: #ffffff;
            opacity: 0.6;
            cursor: not-allowed;
            transform: translateY(0);
        }
        
        .pricing-page-header .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }
        
        .pricing-page-header .logo img {
            width: 32px;
            height: 32px;
        }
        
        .pricing-page-header .logo span {
            font-size: 1.25rem;
            font-weight: 600;
            color: #ffffff;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 6px;
        }
        
        .close-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .pricing-page-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }
        
        .pricing-page-header-section {
            text-align: center;
            margin-bottom: 3rem;
            margin-top: 48px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .pricing-page-header-section h1 {
            font-size: 8rem;
            font-weight: 700;
            margin: 24px 0 1.5rem 0;
            color: #ffffff;
            line-height: 1.1;
            max-width: 900px;
        }
        
        .pricing-page-header-section p {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        .pricing-hero-subtitle {
            font-size: 1.35rem;
            color: rgba(255, 255, 255, 0.8);
            margin: 0 auto 3rem auto;
            line-height: 1.6;
        }
        
        .pricing-cta-spotify {
            background: #ffffff;
            border: none;
            border-radius: 500px;
            padding: 1.25rem 2.5rem;
            color: #000000;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 1rem;
            margin-bottom: 1rem;
            text-transform: none;
            letter-spacing: normal;
            box-shadow: 0 4px 14px rgba(255, 255, 255, 0.15);
        }
        
        .pricing-cta-spotify:hover {
            background: #f0f0f0;
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 255, 255, 0.25);
        }
        
        .pricing-cta-spotify:disabled,
        .pricing-cta-spotify.disabled {
            background: #ffffff;
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .pricing-offer-explanation {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.5;
            margin-top: 0.5rem;
            max-width: 350px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .pricing-offer-explanation a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: underline;
        }
        
        .pricing-offer-explanation a:hover {
            color: #ffffff;
        }
        
        /* Intro Text Section Styles */
        /* Social Proof Section */
        .social-proof-section {
            text-align: center;
            margin-bottom: 3rem;
            padding: 0;
        }
        
        .social-proof-text {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.8);
            margin: 0;
        }
        
        .social-proof-number {
            font-weight: 700;
            color: #ffffff;
        }
        
        /* Testimonial Section */
        .testimonial-section {
            margin-top: 6rem;
            margin-bottom: 6rem;
            padding: 0 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .testimonial-content {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 3rem;
            display: flex;
            gap: 2rem;
            align-items: flex-start;
        }
        
        .testimonial-avatar {
            flex-shrink: 0;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(6, 78, 59, 0.3), rgba(6, 95, 70, 0.3));
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .testimonial-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .testimonial-initials {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffffff;
        }
        
        .testimonial-text {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .testimonial-quote {
            font-size: 1.125rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            margin: 0;
            font-style: italic;
        }
        
        .testimonial-author {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        .testimonial-author a {
            color: #10b981;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .testimonial-author a:hover {
            color: #34d399;
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .testimonial-content {
                flex-direction: column;
                padding: 2rem;
                gap: 1.5rem;
            }
            
            .testimonial-avatar {
                align-self: center;
            }
            
            .social-proof-text {
                font-size: 1.1rem;
            }
        }
        
        .intro-text-section {
            margin-top: 10rem;
            margin-bottom: 10rem;
            padding: 0 2rem;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }
        
        .intro-text {
            color: rgba(255, 255, 255, 0.9);
            margin: 0 auto 2rem auto;
        }
        
        .intro-text:first-child {
            font-size: 48px;
            font-weight: 400;
        }
        
        .intro-text:last-child {
            font-size: 32px;
            font-weight: 300;
            margin-bottom: 0;
        }
        
        /* Use Cases Section Styles */
        .use-cases-section {
            margin-top: 8rem;
            margin-bottom: 8rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .use-cases-intro {
            text-align: center;
            margin-bottom: 6rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .use-cases-title {
            font-size: 3rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 1.5rem 0;
        }
        
        .use-cases-subtitle {
            font-size: 1.25rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        .use-cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 6rem;
        }
        
        .use-case-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 3rem;
            transition: all 0.3s ease;
        }
        
        .use-case-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.15);
            transform: translateY(-4px);
        }
        
        .use-case-icon {
            width: 64px;
            height: 64px;
            margin-bottom: 1.5rem;
            color: #ffffff;
            background: linear-gradient(135deg, rgba(6, 78, 59, 0.8), rgba(6, 95, 70, 0.8));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .use-case-icon svg {
            width: 32px;
            height: 32px;
            stroke: currentColor;
            stroke-width: 2;
        }
        
        .use-case-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 1.5rem 0;
        }
        
        .use-case-description {
            font-size: 1rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        /* Integration Showcase Section Styles */
        .integration-showcase-section {
            margin-top: 8rem;
            margin-bottom: 8rem;
            padding: 6rem 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .integration-intro {
            text-align: center;
            margin-bottom: 6rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .integration-title {
            font-size: 3rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 1.5rem 0;
        }
        
        .integration-subtitle {
            font-size: 1.25rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        .integrations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 6rem;
        }
        
        .integration-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 3rem;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .integration-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.15);
            transform: translateY(-4px);
        }
        
        .integration-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem auto;
            color: #ffffff;
            background: linear-gradient(135deg, rgba(6, 78, 59, 0.8), rgba(6, 95, 70, 0.8));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .integration-logo svg {
            width: 40px;
            height: 40px;
            stroke: currentColor;
            stroke-width: 2;
        }
        
        .integration-name {
            font-size: 1.75rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 1.5rem 0;
        }
        
        .integration-description {
            font-size: 1rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        /* User Types Section Styles */
        .user-types-section {
            margin-top: 8rem;
            margin-bottom: 8rem;
            padding: 6rem 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .user-types-intro {
            text-align: center;
            margin-bottom: 6rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .user-types-title {
            font-size: 3rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 1.5rem 0;
        }
        
        .user-types-subtitle {
            font-size: 1.25rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        .user-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 6rem;
        }
        
        .user-type-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 3rem;
            transition: all 0.3s ease;
        }
        
        .user-type-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.15);
            transform: translateY(-4px);
        }
        
        .user-type-icon {
            width: 64px;
            height: 64px;
            margin-bottom: 1.5rem;
            color: #ffffff;
            background: linear-gradient(135deg, rgba(6, 78, 59, 0.8), rgba(6, 95, 70, 0.8));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .user-type-icon svg {
            width: 32px;
            height: 32px;
            stroke: currentColor;
            stroke-width: 2;
        }
        
        .user-type-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 1.5rem 0;
        }
        
        .user-type-description {
            font-size: 1rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        /* CTA Before FAQ Section Styles */
        .cta-before-faq-section {
            margin-top: 8rem;
            margin-bottom: 8rem;
            padding: 6rem 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }
        
        .cta-before-faq-section .cta-title {
            font-size: 3rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 1.5rem 0;
        }
        
        .cta-before-faq-section .cta-subtitle {
            font-size: 1.25rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.7);
            margin: 0 0 2.5rem 0;
        }
        
        .cta-before-faq-section .pricing-cta-spotify {
            margin-bottom: 1.5rem;
        }
        
        .cta-before-faq-section .pricing-offer-explanation {
            margin: 0 auto;
        }
        
        /* Comparison Table Section */
        .comparison-table-section {
            margin-top: 8rem;
            margin-bottom: 8rem;
            padding: 0 2rem;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .comparison-table-intro {
            text-align: center;
            margin-bottom: 4rem;
        }
        
        .comparison-table-title {
            font-size: 3rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 1rem 0;
        }
        
        .comparison-table-description {
            font-size: 1.25rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        .comparison-table-container {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            overflow-x: auto;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .comparison-table thead {
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .comparison-table th {
            padding: 1.5rem 1rem;
            text-align: left;
            font-size: 1rem;
            font-weight: 600;
            color: #ffffff;
        }
        
        .comparison-feature {
            width: 40%;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .comparison-plan {
            width: 30%;
            text-align: left;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .comparison-plan-premium {
            color: #ffffff;
            font-weight: 700;
        }
        
        .comparison-table tbody tr {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: background 0.2s ease;
        }
        
        .comparison-table tbody tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }
        
        .comparison-table tbody tr:last-child {
            border-bottom: none;
        }
        
        .comparison-table td {
            padding: 1.25rem 1rem;
            font-size: 0.95rem;
        }
        
        .comparison-value {
            text-align: left;
            color: #ffffff;
        }
        
        .comparison-value-premium {
            color: #ffffff;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .comparison-table-section {
                margin-top: 6rem;
                margin-bottom: 6rem;
                padding: 0 1rem;
            }
            
            .comparison-table-container {
                padding: 1rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 1rem 0.5rem;
                font-size: 0.85rem;
            }
            
            .comparison-feature {
                width: 50%;
            }
            
            .comparison-plan {
                width: 25%;
            }
            
        }
        
        /* FAQ Section Styles */
        .faq-section {
            margin-top: 8rem;
            margin-bottom: 8rem;
            padding: 6rem 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .faq-intro {
            text-align: center;
            margin-bottom: 6rem;
        }
        
        .faq-title {
            font-size: 3rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0;
        }
        
        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .faq-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .faq-item:hover {
            border-color: rgba(255, 255, 255, 0.15);
        }
        
        .faq-question {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background: transparent;
            border: none;
            color: #ffffff;
            font-size: 1.1rem;
            font-weight: 600;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .faq-question:hover {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .faq-question span {
            flex: 1;
        }
        
        .faq-icon {
            flex-shrink: 0;
            margin-left: 1rem;
            transition: transform 0.3s ease;
            stroke: rgba(255, 255, 255, 0.7);
        }
        
        .faq-item[aria-expanded="true"] .faq-icon {
            transform: rotate(180deg);
        }
        
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0 1.5rem;
        }
        
        .faq-item[aria-expanded="true"] .faq-answer {
            max-height: 500px;
            padding: 0 1.5rem 1.5rem 1.5rem;
        }
        
        .faq-answer p {
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        
        @media (max-width: 768px) {
            .pricing-page-header-section h1 {
                font-size: 2.5rem;
                width: 100%;
                max-width: 100%;
            }
            
            .pricing-hero-subtitle {
                font-size: 1.1rem;
                margin-bottom: 2.5rem;
            }
            
            .pricing-cta-spotify {
                font-size: 1rem;
                padding: 1rem 2rem;
            }
            
            .pricing-page-header-left {
                gap: 0.75rem;
            }
            
            .pricing-page-header-cta {
                font-size: 0.8rem;
                padding: 0.5rem 0.875rem;
            }
            
            .pricing-page-header .logo span {
                display: none;
            }
            
            .intro-text-section {
                margin-top: 6rem;
                margin-bottom: 6rem;
                padding: 0;
            }
            
            .intro-text {
                width: 100%;
                max-width: 100%;
            }
            
            .intro-text:first-child {
                font-size: 2rem;
            }
            
            .intro-text:last-child {
                font-size: 1.5rem;
            }
            
            .use-cases-section {
                margin-top: 4rem;
                padding: 0 1rem;
            }
            
            .use-cases-title {
                font-size: 2rem;
            }
            
            .use-cases-subtitle {
                font-size: 1rem;
            }
            
            .use-cases-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .use-case-item {
                padding: 1.5rem;
            }
            
            .integration-showcase-section {
                margin-top: 4rem;
                padding: 0 1rem;
            }
            
            .integration-title {
                font-size: 2rem;
            }
            
            .integration-subtitle {
                font-size: 1rem;
            }
            
            .integrations-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .integration-item {
                padding: 1.5rem;
            }
            
            .cta-before-faq-section {
                margin-top: 4rem;
                padding: 0 1rem;
            }
            
            .cta-before-faq-section .cta-title {
                font-size: 2rem;
            }
            
            .cta-before-faq-section .cta-subtitle {
                font-size: 1rem;
            }
            
            .user-types-section {
                margin-top: 6rem;
                margin-bottom: 6rem;
                padding: 3rem 1rem;
            }
            
            .user-types-title {
                font-size: 2rem;
            }
            
            .user-types-subtitle {
                font-size: 1rem;
            }
            
            .user-types-grid {
                grid-template-columns: 1fr;
            gap: 2rem;
            }
            
            .user-type-item {
                padding: 2rem;
            }
            
            .cta-before-faq-section {
                margin-top: 6rem;
                margin-bottom: 6rem;
                padding: 3rem 1rem;
            }
            
            .faq-section {
                margin-top: 6rem;
                margin-bottom: 6rem;
                padding: 3rem 1rem;
            }
            
            .faq-title {
                font-size: 2rem;
            }
            
            .faq-question {
                font-size: 1rem;
                padding: 1rem;
            }
            
            .faq-answer {
                padding: 0 1rem;
            }
            
            .faq-item[aria-expanded="true"] .faq-answer {
                padding: 0 1rem 1rem 1rem;
            }
        }
        
        .pricing-grid {
            display: flex;
            justify-content: center;
            margin-bottom: 3rem;
        }
        
        @media (min-width: 768px) {
            .pricing-grid {
                max-width: 900px;
                margin: 0 auto 3rem auto;
            }
        }
        
        .pricing-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 800px;
        }
        
        .pricing-card:hover {
            border-color: rgba(255, 255, 255, 0.2);
        }
        
        .pricing-card.featured {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .pricing-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--onyx-dark, #064e3b), var(--onyx-light, #065f46));
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }
        
        .pricing-card-header {
            text-align: center;
        }
        
        .pricing-card-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 0 0 1rem 0;
            color: #ffffff;
        }
        
        .pricing-price {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
        }
        
        .pricing-price .price {
            font-size: 3rem;
            font-weight: 700;
            color: #ffffff;
        }
        
        .pricing-price .period {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .pricing-features {
            flex: 1;
        }
        
        .pricing-feature {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 1rem;
        }
        
        .pricing-feature svg {
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .pricing-feature.enabled svg {
            stroke: #10b981;
        }
        
        .pricing-feature.disabled {
            opacity: 0.4;
        }
        
        .pricing-feature.disabled svg {
            stroke: #ef4444;
        }
        
        .pricing-feature.highlight {
            color: #a78bfa;
            font-weight: 500;
        }
        
        .pricing-feature span {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .pricing-feature-title {
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .pricing-feature-title span {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 500;
        }
        
        .pricing-cta {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 0.875rem 1.5rem;
            color: #ffffff;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease;
            width: 100%;
            text-align: center;
        }
        
        .pricing-cta:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .pricing-cta:disabled,
        .pricing-cta.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .pricing-cta:disabled:hover,
        .pricing-cta.disabled:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .pricing-cta.featured {
            background: #ffffff;
            color: #000000;
            border: none;
            margin-bottom: 3rem;
        }
        
        .pricing-cta.featured:hover {
            background: #f0f0f0;
        }
        
        .pricing-cta.featured:disabled,
        .pricing-cta.featured.disabled {
            background: #ffffff;
            opacity: 0.5;
        }
        
        .pricing-cta.featured:disabled:hover,
        .pricing-cta.featured.disabled:hover {
            background: #ffffff;
        }
        
        .pricing-cta.free {
            background: white;
            color: #1a1a1a;
            border: none;
        }
        
        .pricing-cta.free:hover {
            background: rgba(255, 255, 255, 0.9);
        }
        
        .pricing-cta.free:disabled,
        .pricing-cta.free.disabled {
            background: white;
            opacity: 0.5;
        }
        
        .pricing-cta.free:disabled:hover,
        .pricing-cta.free.disabled:hover {
            background: white;
        }
        
        /* Pricing Options Styles */
        .pricing-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 0 0 1.5rem 0;
            width: 100%;
        }
        
        .pricing-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .pricing-option:hover {
            border-color: rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .pricing-option.active {
            background: linear-gradient(135deg, rgba(6, 78, 59, 0.2), rgba(6, 78, 59, 0.1));
            border-color: rgba(6, 78, 59, 0.8);
            box-shadow: 0 0 0 2px rgba(6, 78, 59, 0.3);
        }
        
        .option-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }
        
        .option-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .option-badge {
            font-size: 0.7rem;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .option-badge.best-value {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        
        .option-badge.most-popular {
            background: linear-gradient(135deg, #a78bfa, #8b5cf6);
            color: white;
        }
        
        .pricing-option .option-price {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
        }
        
        .pricing-option .option-price .price {
            font-size: 1.75rem;
            font-weight: 700;
            color: #ffffff;
        }
        
        .pricing-option .option-price .period {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .save-badge {
            font-size: 0.75rem;
            font-weight: 600;
            color: #10b981;
            margin-top: 0.25rem;
        }
        
        @media (max-width: 768px) {
            .pricing-options {
                grid-template-columns: 1fr;
            }
        }
        
        /* Premium Features Detailed Section */
        .premium-features-detailed-section {
            margin-top: 8rem;
            margin-bottom: 8rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 2rem;
        }
        
        .premium-feature-block {
            margin-bottom: 6rem;
        }
        
        .premium-feature-block:last-child {
            margin-bottom: 0;
        }
        
        .premium-feature-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }
        
        .premium-feature-content.reverse {
            direction: rtl;
        }
        
        .premium-feature-content.reverse > * {
            direction: ltr;
        }
        
        .premium-feature-text {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .premium-feature-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #ffffff;
            margin: 0;
            line-height: 1.2;
        }
        
        .premium-feature-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.8);
            margin: 0;
        }
        
        .premium-feature-benefits {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .premium-feature-benefits li {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            padding-left: 1.5rem;
            position: relative;
        }
        
        .premium-feature-benefits li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #10b981;
            font-weight: 700;
        }
        
        .premium-feature-visual {
            position: relative;
        }
        
        .feature-mockup {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        @media (max-width: 968px) {
            .premium-features-detailed-section {
                padding: 0 1rem;
            }
            
            .premium-feature-content {
                grid-template-columns: 1fr;
                gap: 3rem;
            }
            
            .premium-feature-content.reverse {
                direction: ltr;
            }
            
            .premium-feature-title {
                font-size: 2rem;
            }
            
            .premium-feature-block {
                margin-bottom: 6rem;
            }
        }
        
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PWPTLLHZ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <!-- Header -->
    <header class="pricing-page-header" id="pricingHeader">
        <div class="pricing-page-header-left">
            <a href="/" class="logo">
                <img src="/Superfocus-logo.svg" alt="Superfocus Logo">
                <span>Superfocus</span>
            </a>
            <button class="pricing-page-header-cta" id="headerCTA">Start 7-Day Free Trial</button>
        </div>
        <a href="/" class="close-btn" title="Close">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 6 6 18"/>
                <path d="m6 6 12 12"/>
            </svg>
        </a>
    </header>
    
    <!-- Main Content -->
    <main class="pricing-page-container">
        <div class="pricing-page-header-section">
            <h1>Focus without limits.</h1>
            
            <p class="pricing-hero-subtitle">Everything you need to stay productive. No daily limits.</p>
            
            <button class="pricing-cta-spotify" id="pricingPageUpgrade">Start 7-Day Free Trial</button>
            
            <div class="pricing-offer-explanation">
                Free for 7 days, then $3.99/month. Cancel anytime.
                    </div>
                </div>
                
        <!-- Intro Text Section -->
        <div class="intro-text-section">
            <p class="intro-text">
                Your brain wasn't built for distractions.
            </p>
            <p class="intro-text">
                We help you get shit done without burning out. Focus when you need it. Rest when you want it.
            </p>
                    </div>
        
        <!-- Testimonial Section -->
        <div class="testimonial-section">
            <div class="social-proof-section">
                <p class="social-proof-text">
                    Join <span id="totalUsersCount" class="social-proof-number">900+</span> focused users
                </p>
            </div>
            
            <!-- Testimonial 1: Nina -->
            <div class="testimonial-content">
                <div class="testimonial-avatar">
                    <img id="testimonialImage" src="" alt="Nina" style="display: none;">
                    <div id="testimonialInitials" class="testimonial-initials">N</div>
                </div>
                <div class="testimonial-text">
                    <p class="testimonial-quote">
                        "I run a blog and dog daycare, so I need to focus during precise hours. Superfocus helps me stay on track and make real progress on my life project."
                    </p>
                    <p class="testimonial-author">
                        <span id="testimonialName">Nina</span> ‚Äî <a href="https://lifewithchevy.com/" target="_blank" rel="noopener noreferrer">Life with Chevy</a>
                    </p>
                </div>
            </div>
            
            <!-- Testimonial 2: Medical Student -->
            <div class="testimonial-content" style="margin-top: 2rem;">
                <div class="testimonial-avatar">
                    <div class="testimonial-initials">JC</div>
                </div>
                <div class="testimonial-text">
                    <p class="testimonial-quote">
                        "With 300+ pages to memorize weekly, I needed something to keep me focused. Now I actually retain what I study instead of zoning out every 20 minutes."
                    </p>
                    <p class="testimonial-author">
                        <span>Julio C.</span> ‚Äî Medical Student
                    </p>
                </div>
            </div>
            
            <!-- Testimonial 3: Attorney -->
            <div class="testimonial-content" style="margin-top: 2rem;">
                <div class="testimonial-avatar">
                    <div class="testimonial-initials">A</div>
                </div>
                <div class="testimonial-text">
                    <p class="testimonial-quote">
                        "Between case reviews and client work, I was constantly context-switching. This helped me block out 2-3 hours of uninterrupted deep work, which is rare in this field."
                    </p>
                    <p class="testimonial-author">
                        <span>Alex S.</span> ‚Äî Associate Attorney
                    </p>
                </div>
            </div>
        </div>
                
        <!-- Comparison Table Section -->
        <div class="comparison-table-section">
            <div class="comparison-table-intro">
                <h2 class="comparison-table-title">Why upgrade to Premium?</h2>
                <p class="comparison-table-description">See what you unlock with Premium</p>
                    </div>
            <div class="comparison-table-container">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th class="comparison-feature">Features</th>
                            <th class="comparison-plan comparison-plan-premium">Premium</th>
                            <th class="comparison-plan">Starter</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="comparison-feature">Custom Timers</td>
                            <td class="comparison-value comparison-value-premium">Unlimited</td>
                            <td class="comparison-value">1 timer</td>
                        </tr>
                        <tr>
                            <td class="comparison-feature">Daily Focus Limit</td>
                            <td class="comparison-value comparison-value-premium">Unlimited</td>
                            <td class="comparison-value">1 hour/day</td>
                        </tr>
                        <tr>
                            <td class="comparison-feature">Tasks</td>
                            <td class="comparison-value comparison-value-premium">Unlimited</td>
                            <td class="comparison-value">Limit to 3</td>
                        </tr>
                        <tr>
                            <td class="comparison-feature">Custom Vibes</td>
                            <td class="comparison-value comparison-value-premium">Unlimited</td>
                            <td class="comparison-value">1 cassette</td>
                        </tr>
                        <tr>
                            <td class="comparison-feature">Advanced Analytics</td>
                            <td class="comparison-value comparison-value-premium">‚úÖ</td>
                            <td class="comparison-value">‚ùå</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- CTA after comparison table -->
            <div style="text-align: center; margin-top: 3rem;">
                <button class="pricing-cta-spotify" id="comparisonTableCTA">Start 7-Day Free Trial</button>
                <div class="pricing-offer-explanation" style="margin: 0.5rem auto 0 auto;">
                    $0 for 7 days, then $3.99 per month after. Offer only available if you haven't tried Premium before. Cancel anytime.
                </div>
            </div>
                    </div>
                
        <!-- Premium Features Section - Con ejemplos visuales -->
        <div class="premium-features-detailed-section">
            <div class="use-cases-intro">
                <h2 class="use-cases-title">Everything you need to focus better</h2>
                <p class="use-cases-subtitle">Premium features designed to help you stay focused, organized, and productive.</p>
                    </div>
            
            <!-- Feature 1: Create Custom Timer -->
            <div class="premium-feature-block">
                <div class="premium-feature-content">
                    <div class="premium-feature-text">
                        <h3 class="premium-feature-title">Create unlimited custom timers</h3>
                        <p class="premium-feature-description">
                            25 minutes doesn't work for everyone. Maybe you need 52 minutes for deep work, or 17 minutes for quick sprints. Create timers that match how you actually work‚Äînot how someone else thinks you should.
                        </p>
                        <ul class="premium-feature-benefits">
                            <li>Set any duration you want</li>
                            <li>Create unlimited custom techniques (Free plan includes 1 timer)</li>
                            <li>Name and personalize each timer</li>
                            <li>Choose custom emojis for each technique</li>
                        </ul>
                </div>
                    <div class="premium-feature-visual">
                        <div class="custom-form" style="display: block; margin-top: 0;">
                            <div class="custom-form-content">
                                <div class="custom-input-group">
                                    <div class="name-header">
                                        <label for="previewCustomName">Name your technique</label>
                                        <div class="word-count">12/15 characters</div>
                    </div>
                                    <input type="text" id="previewCustomName" value="Deep Work" readonly style="pointer-events: none;">
                </div>
        
                                <div class="custom-input-group">
                                    <label for="previewCustomEmoji">Choose an emoji</label>
                                    <div class="emoji-picker">
                                        <button type="button" class="emoji-option active" data-emoji="üéØ" style="pointer-events: none;">üéØ</button>
                                        <button type="button" class="emoji-option" data-emoji="üçÖ" style="pointer-events: none;">üçÖ</button>
                                        <button type="button" class="emoji-option" data-emoji="‚ö°" style="pointer-events: none;">‚ö°</button>
                                        <button type="button" class="emoji-option" data-emoji="üåä" style="pointer-events: none;">üåä</button>
                                        <button type="button" class="emoji-option" data-emoji="üß†" style="pointer-events: none;">üß†</button>
                                        <button type="button" class="emoji-option" data-emoji="üèÉ" style="pointer-events: none;">üèÉ</button>
                    </div>
                    </div>
            
                                <div class="custom-duration-options">
                                    <h5>Set your duration</h5>
                                    <div class="duration-controls">
                                        <div class="duration-item">
                                            <div class="duration-header">
                                                <label>Work</label>
                                                <span class="duration-value">52 min</span>
                    </div>
                                            <input type="range" min="1" max="90" value="52" class="duration-slider" readonly style="pointer-events: none;">
                </div>
                                        <div class="duration-item">
                                            <div class="duration-header">
                                                <label>Short Break</label>
                                                <span class="duration-value">10 min</span>
                    </div>
                                            <input type="range" min="1" max="30" value="10" class="duration-slider" readonly style="pointer-events: none;">
                </div>
                                    </div>
                    </div>
                
                                <div class="custom-form-actions">
                                    <button class="btn-cancel-custom" style="pointer-events: none;">Cancel</button>
                                    <button class="btn-primary" style="pointer-events: none;">Save</button>
                    </div>
                    </div>
                    </div>
                </div>
                    </div>
                </div>
        
            <!-- Feature 2: Create Tasks -->
            <div class="premium-feature-block">
                <div class="premium-feature-content reverse">
                    <div class="premium-feature-visual">
                        <div class="add-task-form" style="display: block;">
                            <div class="form-group">
                                <label>What are you working on?</label>
                                <input type="text" value="Complete project proposal" readonly style="pointer-events: none;">
                    </div>
                            <div class="form-group">
                                <label>Sessions</label>
                                <div class="pomodoros-control">
                                    <button class="pomodoros-btn" style="pointer-events: none;">-</button>
                                    <input type="number" value="3" min="1" max="10" readonly style="pointer-events: none;">
                                    <button class="pomodoros-btn" style="pointer-events: none;">+</button>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button class="btn-secondary" style="pointer-events: none;">Cancel</button>
                                <button class="btn-primary" style="pointer-events: none;">Save</button>
                            </div>
                        </div>
                    </div>
                    <div class="premium-feature-text">
                        <h3 class="premium-feature-title">Create and manage unlimited tasks</h3>
                        <p class="premium-feature-description">
                            Organize your work with unlimited tasks. Set how many focus sessions each task needs, track your progress, and stay organized without limits.
                        </p>
                        <ul class="premium-feature-benefits">
                            <li>Create unlimited tasks</li>
                            <li>Assign multiple sessions per task</li>
                            <li>Track progress visually</li>
                            <li>Organize your entire workflow</li>
                        </ul>
                </div>
                    </div>
                </div>
        
            <!-- Feature 4: Create Cassettes -->
            <div class="premium-feature-block">
                <div class="premium-feature-content reverse">
                    <div class="premium-feature-visual">
                        <div class="custom-form" style="display: block; margin-top: 0;">
                            <div class="custom-form-content">
                                <div class="custom-input-group">
                                    <label for="previewCassetteTitle">Title *</label>
                                    <input type="text" id="previewCassetteTitle" value="My Focus Environment" readonly style="pointer-events: none;">
                    </div>
            
                                <div class="custom-input-group">
                                    <label for="previewCassetteImageUrl">Image URL/Address</label>
                                    <input type="url" id="previewCassetteImageUrl" value="https://example.com/my-image.jpg" readonly style="pointer-events: none;">
                    </div>
                                
                                <div class="custom-input-group">
                                    <label for="previewCassetteSpotifyUrl">Spotify track, playlist, or album URL</label>
                                    <input type="url" id="previewCassetteSpotifyUrl" placeholder="https://open.spotify.com/track/..." readonly style="pointer-events: none;">
                    </div>
                                
                                <div class="custom-input-group" style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; gap: 12px; padding: 12px 0;">
                                    <label for="previewCassetteIsPublic" style="margin: 0;">Public cassette</label>
                                    <div class="toggle-container">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="previewCassetteIsPublic" style="pointer-events: none;">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                    </div>
                
                                <div class="custom-form-actions">
                                    <button class="btn-cancel-custom" style="pointer-events: none;">Cancel</button>
                                    <button class="btn-primary" style="pointer-events: none;">Save</button>
                    </div>
                            </div>
                        </div>
                    </div>
                    <div class="premium-feature-text">
                        <h3 class="premium-feature-title">Create custom vibes</h3>
                        <p class="premium-feature-description">
                            Design your own focus environments with custom vibes. Upload your own images, set the perfect atmosphere, and create personalized focus spaces. Free plan includes 1 cassette, Premium includes unlimited.
                        </p>
                        <ul class="premium-feature-benefits">
                            <li>Upload custom images</li>
                            <li>Create unlimited cassettes (Free: 1 cassette)</li>
                            <li>Personalize your focus environment</li>
                            <li>Share with your team</li>
                        </ul>
                </div>
                    </div>
                </div>

            
            <!-- Feature 6: Report & Analytics -->
            <div class="premium-feature-block">
                <div class="premium-feature-content reverse">
                    <div class="premium-feature-visual">
                        <div style="padding: 0;">
                            <!-- Stats Overview -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px;">
                                <div style="background: #2a2a2a; border-radius: 12px; padding: 20px; text-align: center;">
                                    <div style="font-size: 32px; font-weight: 700; color: #fff; margin-bottom: 4px;">7h 44m</div>
                                    <div style="font-size: 14px; color: #a3a3a3;">Total Focus Hours</div>
                    </div>
                                <div style="background: #2a2a2a; border-radius: 12px; padding: 20px; text-align: center;">
                                    <div style="font-size: 32px; font-weight: 700; color: #fff; margin-bottom: 4px;">0</div>
                                    <div style="font-size: 14px; color: #a3a3a3;">Day Streak</div>
                                </div>
                </div>
                
                            <!-- Trends Chart with Toggle -->
                            <div style="background: #2a2a2a; border-radius: 12px; padding: 20px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                    <h4 style="margin: 0; color: #fff; font-size: 16px;">Last 4 Weeks</h4>
                                    <div style="display: flex; gap: 8px; background: #1a1a1a; padding: 4px; border-radius: 8px;">
                                        <button style="padding: 6px 12px; border: none; border-radius: 6px; background: var(--onyx-dark, #064e3b); color: white; font-size: 12px; font-weight: 600; cursor: pointer; pointer-events: none;">Weeks</button>
                                        <button style="padding: 6px 12px; border: none; border-radius: 6px; background: transparent; color: #a3a3a3; font-size: 12px; font-weight: 600; cursor: pointer; pointer-events: none;">Days</button>
                    </div>
                </div>
                                <div style="height: 150px; display: flex; align-items: flex-end; gap: 8px;">
                                    <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; gap: 8px; height: 100%;">
                                        <div style="width: 100%; height: 60%; background: linear-gradient(to top, var(--onyx-dark, #064e3b), var(--onyx-light, #065f46)); border-radius: 4px;"></div>
                                        <div style="font-size: 11px; color: #a3a3a3; text-align: center;">10/26</div>
                                        <div style="font-size: 10px; color: #666; text-align: center;">0.3h</div>
                                    </div>
                                    <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; gap: 8px; height: 100%;">
                                        <div style="width: 100%; height: 60%; background: linear-gradient(to top, var(--onyx-dark, #064e3b), var(--onyx-light, #065f46)); border-radius: 4px;"></div>
                                        <div style="font-size: 11px; color: #a3a3a3; text-align: center;">11/2</div>
                                        <div style="font-size: 10px; color: #666; text-align: center;">0.3h</div>
                                    </div>
                                    <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; gap: 8px; height: 100%;">
                                        <div style="width: 100%; height: 2%; background: linear-gradient(to top, var(--onyx-dark, #064e3b), var(--onyx-light, #065f46)); border-radius: 4px; min-height: 4px;"></div>
                                        <div style="font-size: 11px; color: #a3a3a3; text-align: center;">11/9</div>
                                        <div style="font-size: 10px; color: #666; text-align: center;">0.0h</div>
                                    </div>
                                    <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; gap: 8px; height: 100%;">
                                        <div style="width: 100%; height: 2%; background: linear-gradient(to top, var(--onyx-dark, #064e3b), var(--onyx-light, #065f46)); border-radius: 4px; min-height: 4px;"></div>
                                        <div style="font-size: 11px; color: #a3a3a3; text-align: center;">11/16</div>
                                        <div style="font-size: 10px; color: #666; text-align: center;">0.0h</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="premium-feature-text">
                        <h3 class="premium-feature-title">Report & Analytics</h3>
                        <p class="premium-feature-description">
                            Track your productivity with detailed analytics. See your focus patterns, streaks, and progress over time. Understand where your time goes and optimize your workflow.
                        </p>
                        <ul class="premium-feature-benefits">
                            <li>View detailed focus statistics</li>
                            <li>Track your daily and weekly streaks</li>
                            <li>See total time focused</li>
                            <li>Analyze your productivity patterns</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- CTA Section Before FAQ -->
        <div class="cta-before-faq-section">
            <h2 class="cta-title">The world is focusing here.</h2>
            <p class="cta-subtitle">Join the party with Premium.</p>
            <button class="pricing-cta-spotify" id="ctaBeforeFaq">Start 7-Day Free Trial</button>
            <div class="pricing-offer-explanation">
                $0 for 7 days, then $3.99 per month after. Offer only available if you haven't tried Premium before. Cancel anytime.
            </div>
        </div>
        
        <!-- FAQ Section -->
        <div class="faq-section">
            <div class="faq-intro">
                <h2 class="faq-title">Frequently asked questions</h2>
            </div>
            
            <div class="faq-list">
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">
                        <span>What happens after the 7-day trial?</span>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </button>
                    <div class="faq-answer">
                        <p>After your 7-day free trial, you'll be charged $3.99 per month. You can cancel anytime before the trial ends to avoid being charged.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">
                        <span>Can I cancel anytime?</span>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </button>
                    <div class="faq-answer">
                        <p>Yes, you can cancel your Premium subscription at any time. Your access will continue until the end of your current billing period.</p>
            </div>
        </div>
        
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">
                        <span>What payment methods do you accept?</span>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </button>
                    <div class="faq-answer">
                        <p>We accept all major credit cards, debit cards, and other payment methods through Stripe. All payments are secure and encrypted.</p>
                    </div>
            </div>
            
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">
                        <span>What if I've tried Premium before?</span>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </button>
                    <div class="faq-answer">
                        <p>The 7-day free trial is only available for new Premium users. If you've tried Premium before, you'll be charged $3.99/month immediately.</p>
                    </div>
            </div>
            
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">
                        <span>Will I be notified before the trial ends?</span>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </button>
                    <div class="faq-answer">
                        <p>Yes, we'll notify you 7 days before your trial ends so you can decide whether to continue or cancel.</p>
        </div>
                </div>
            </div>
        </div>
        
        <!-- Final CTA after FAQ -->
        <div class="cta-before-faq-section" style="margin-top: 6rem; margin-bottom: 6rem;">
            <h2 class="cta-title">Ready to unlock your full potential?</h2>
            <p class="cta-subtitle">Join thousands of focused users today.</p>
            <button class="pricing-cta-spotify" id="finalCTA">Start 7-Day Free Trial</button>
            <div class="pricing-offer-explanation">
                $0 for 7 days, then $3.99 per month after. Offer only available if you haven't tried Premium before. Cancel anytime.
            </div>
        </div>
        
    </main>
    
    <!-- Site Footer -->
    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-links">
                <a href="/" class="footer-link">Home</a>
                <a href="/pricing" class="footer-link">Pricing</a>
                <a href="/privacy" class="footer-link">Privacy</a>
                <a href="/terms" class="footer-link">Terms</a>
            </div>
            <div class="footer-copyright">
                <p>&copy; 2026 Superfocus. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <script>
        // Function to handle CTA button click
        function handleCTAClick(button, source = 'pricing_page') {
            return function(e) {
                e.preventDefault();
                console.log('Premium button clicked from', source);
                
                // Check if user is authenticated
                const isAuthenticated = window.Clerk && window.Clerk.user;
                const isPremium = isAuthenticated && window.Clerk.user.publicMetadata?.isPremium === true;
                
                // üéØ TRACKING: Stripe Checkout Opened from Pricing Page
                if (window.mixpanel && window.mixpanel.track) {
                    window.mixpanel.track('Stripe Checkout Opened', {
                        source: source,
                        user_type: isAuthenticated ? 'free_user' : 'guest',
                        plan_type: 'premium',
                        timestamp: new Date().toISOString()
                    });
                    console.log('‚úÖ Mixpanel tracking sent: Stripe Checkout Opened');
                    
                    // Also track as Subscribe Clicked
                    window.mixpanel.track('Subscribe Clicked', {
                        button_type: 'subscribe',
                        source: source,
                        location: source,
                        user_type: isAuthenticated ? (isPremium ? 'premium' : 'free') : 'guest',
                        modal_type: source,
                        plan_type: 'premium'
                    });
                    console.log('‚úÖ Mixpanel tracking sent: Subscribe Clicked');
                } else {
                    console.log('‚ùå Mixpanel not available');
                }
                
                const userTypeForAds = isAuthenticated ? (isPremium ? 'premium' : 'free') : 'guest';
                if (typeof window.gtag === 'function') {
                    window.gtag('event', 'subscribe_clicked', {
                        event_category: 'engagement',
                        event_label: source,
                        source: source,
                        user_type: userTypeForAds,
                        value: 0.1,
                        currency: 'USD',
                        non_interaction: false
                    });
                    
                    window.gtag('event', 'conversion', {
                        send_to: 'AW-17614436696/zsizCNqYgbgbENjym89B',
                        value: 1.0,
                        currency: 'USD',
                        source: source,
                        user_type: userTypeForAds
                    });
                    
                    console.log('‚úÖ Google Ads tracking sent: Subscribe Clicked');
                } else {
                    console.warn('‚ö†Ô∏è gtag not available for Google Ads tracking');
                }
                
                if (isPremium) {
                    // Already premium
                    console.log('User already has Premium');
                    button.textContent = 'You have Premium';
                    button.disabled = true;
                    button.classList.add('disabled');
                    return;
                }
                
                if (isAuthenticated) {
                    // Authenticated user - create checkout session
                    console.log('Creating checkout session for Premium trial...');
                    createCheckoutSession('premium');
                } else {
                    // Guest user - redirect to signup with upgrade intent
                    console.log('Redirecting guest to signup with upgrade intent...');
                    localStorage.setItem('upgradeAfterLogin', 'true');
                    window.location.href = 'https://accounts.superfocus.live/sign-up?redirect_url=https%3A%2F%2Fwww.superfocus.live%2Fpricing';
                }
            };
        }
        
        // Wait for Clerk to be fully loaded with session
        async function waitForClerkReady() {
            return new Promise((resolve) => {
                let attempts = 0;
                const maxAttempts = 50; // 5 seconds max
                
                const checkClerk = () => {
                    attempts++;
                    
                    // Check if Clerk is loaded and session is available
                    if (window.Clerk && window.Clerk.loaded) {
                        console.log('‚úÖ Clerk is ready with session');
                        resolve(true);
                        return;
                    }
                    
                    if (attempts >= maxAttempts) {
                        console.warn('‚ö†Ô∏è Clerk took too long to load');
                        resolve(false);
                        return;
                    }
                    
                    setTimeout(checkClerk, 100);
                };
                
                checkClerk();
            });
        }
        
        // Initialize buttons on DOM load
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('DOM loaded, waiting for Clerk to be ready...');
            
            // Wait for Clerk to be fully loaded with session
            await waitForClerkReady();
            
            console.log('Clerk ready, initializing pricing buttons...');
            
            const premiumButton = document.getElementById('pricingPageUpgrade');
            const ctaBeforeFaqButton = document.getElementById('ctaBeforeFaq');
            const headerCTAButton = document.getElementById('headerCTA');
            const comparisonTableCTAButton = document.getElementById('comparisonTableCTA');
            const finalCTAButton = document.getElementById('finalCTA');
            
            if (premiumButton) {
                console.log('Main pricing button found, adding event listener...');
                premiumButton.addEventListener('click', handleCTAClick(premiumButton, 'pricing_page'));
                console.log('‚úÖ Main button event listener added successfully');
            } else {
                console.error('Could not find main pricing button');
            }
            
            if (ctaBeforeFaqButton) {
                console.log('CTA before FAQ button found, adding event listener...');
                ctaBeforeFaqButton.addEventListener('click', handleCTAClick(ctaBeforeFaqButton, 'cta_before_faq'));
                console.log('‚úÖ CTA before FAQ button event listener added successfully');
            }
            
            if (headerCTAButton) {
                console.log('Header CTA button found, adding event listener...');
                headerCTAButton.addEventListener('click', handleCTAClick(headerCTAButton, 'header_cta'));
                console.log('‚úÖ Header CTA button event listener added successfully');
            }
            
            if (comparisonTableCTAButton) {
                console.log('Comparison table CTA button found, adding event listener...');
                comparisonTableCTAButton.addEventListener('click', handleCTAClick(comparisonTableCTAButton, 'comparison_table_cta'));
                console.log('‚úÖ Comparison table CTA button event listener added successfully');
            }
            
            if (finalCTAButton) {
                console.log('Final CTA button found, adding event listener...');
                finalCTAButton.addEventListener('click', handleCTAClick(finalCTAButton, 'final_cta'));
                console.log('‚úÖ Final CTA button event listener added successfully');
            }
            
            // Update button states after Clerk loads
            updateButtonStates();
            
            // Initialize header CTA visibility on scroll
            initHeaderCTAScroll();
        });
        
        async function updateButtonStates() {
            // Ensure Clerk is ready before checking user state
            if (!window.Clerk || !window.Clerk.loaded) {
                await waitForClerkReady();
            }
            
            const premiumButton = document.getElementById('pricingPageUpgrade');
            const ctaBeforeFaqButton = document.getElementById('ctaBeforeFaq');
            const headerCTAButton = document.getElementById('headerCTA');
            const comparisonTableCTAButton = document.getElementById('comparisonTableCTA');
            const finalCTAButton = document.getElementById('finalCTA');
            
            const isAuthenticated = window.Clerk && window.Clerk.user;
            const isPremium = isAuthenticated && window.Clerk.user.publicMetadata?.isPremium === true;
            
            console.log('Updating button states:', { 
                isAuthenticated, 
                isPremium,
                clerkLoaded: window.Clerk?.loaded,
                hasUser: !!window.Clerk?.user
            });
            
            // Update Premium button
            if (premiumButton && isPremium) {
                premiumButton.textContent = 'You have Premium';
                premiumButton.disabled = true;
                premiumButton.classList.add('disabled');
            }
            
            // Update CTA before FAQ button
            if (ctaBeforeFaqButton && isPremium) {
                ctaBeforeFaqButton.textContent = 'You have Premium';
                ctaBeforeFaqButton.disabled = true;
                ctaBeforeFaqButton.classList.add('disabled');
            }
            
            // Update Header CTA button
            if (headerCTAButton && isPremium) {
                headerCTAButton.textContent = 'You have Premium';
                headerCTAButton.disabled = true;
                headerCTAButton.classList.add('disabled');
            }
            
            // Update Comparison Table CTA button
            if (comparisonTableCTAButton && isPremium) {
                comparisonTableCTAButton.textContent = 'You have Premium';
                comparisonTableCTAButton.disabled = true;
                comparisonTableCTAButton.classList.add('disabled');
            }
            
            // Update Final CTA button
            if (finalCTAButton && isPremium) {
                finalCTAButton.textContent = 'You have Premium';
                finalCTAButton.disabled = true;
                finalCTAButton.classList.add('disabled');
            }
        }

        async function createCheckoutSession(planType = 'premium') {
            try {
                // Attach a per-attempt run id so frontend+backend logs correlate
                window.__debugRunId = window.__debugRunId || (`run_${Date.now()}_${Math.random().toString(16).slice(2,8)}`);

                // #region agent log
                if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
                    fetch('http://127.0.0.1:7242/ingest/a94af8c8-4978-4bdd-878c-120b1bb5f3d3',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:'debug-session',runId:(window.__debugRunId||'pre-fix'),hypothesisId:'A',location:'pricing/index.html:createCheckoutSession:start',message:'createCheckoutSession called',data:{planType,userIdPresent:!!(window.Clerk?.user?.id),emailPresent:!!(window.Clerk?.user?.primaryEmailAddress?.emailAddress)},timestamp:Date.now()})}).catch(()=>{});
                }
                // #endregion

                // Track that checkout session is being created
                if (window.mixpanel && window.mixpanel.track) {
                    window.mixpanel.track('Stripe Checkout Session Created', {
                        source: 'pricing_page',
                        plan_type: planType,
                        timestamp: new Date().toISOString()
                    });
                    console.log('‚úÖ Mixpanel tracking sent: Stripe Checkout Session Created');
                }
                
                // Track Checkout Session Created in Google Ads
                if (typeof window.gtag === 'function') {
                    window.gtag('event', 'conversion', {
                        'send_to': 'AW-17614436696/d75YCJ7Ti8IbENjym89B',
                        'value': 1.0,
                        'currency': 'USD'
                    });
                    console.log('‚úÖ Google Ads tracking sent: Checkout Session Created');
                }
                
                const userEmail = window.Clerk?.user?.primaryEmailAddress?.emailAddress || '';
                const userId = window.Clerk?.user?.id || '';

                const response = await fetch('/api/create-checkout-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-clerk-userid': userId,
                        'x-debug-runid': (window.__debugRunId || '')
                    },
                    body: JSON.stringify({
                        planType: planType,
                        userEmail: userEmail,
                        userId: userId
                    })
                });

                // #region agent log
                if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
                    fetch('http://127.0.0.1:7242/ingest/a94af8c8-4978-4bdd-878c-120b1bb5f3d3',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:'debug-session',runId:(window.__debugRunId||'pre-fix'),hypothesisId:'B',location:'pricing/index.html:createCheckoutSession:response',message:'create-checkout-session response received',data:{ok:response.ok,status:response.status,planType},timestamp:Date.now()})}).catch(()=>{});
                }
                // #endregion

                if (!response.ok) {
                    const errorData = await response.json();

                    // #region agent log
                    if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
                        fetch('http://127.0.0.1:7242/ingest/a94af8c8-4978-4bdd-878c-120b1bb5f3d3',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:'debug-session',runId:(window.__debugRunId||'pre-fix'),hypothesisId:'B',location:'pricing/index.html:createCheckoutSession:errorBody',message:'create-checkout-session non-OK',data:{status:response.status,error:(errorData && (errorData.error||errorData.message))?String(errorData.error||errorData.message).slice(0,200):'unknown'},timestamp:Date.now()})}).catch(()=>{});
                    }
                    // #endregion

                    throw new Error(errorData.error || 'Failed to create checkout session');
                }

                const data = await response.json();
                if (data.url) {
                    // #region agent log
                    if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
                        fetch('http://127.0.0.1:7242/ingest/a94af8c8-4978-4bdd-878c-120b1bb5f3d3',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:'debug-session',runId:(window.__debugRunId||'pre-fix'),hypothesisId:'D',location:'pricing/index.html:createCheckoutSession:redirect',message:'redirecting to Stripe checkout URL',data:{hasUrl:true,planType},timestamp:Date.now()})}).catch(()=>{});
                    }
                    // #endregion
                    window.location.href = data.url;
                } else {
                    throw new Error('No checkout URL received');
                }
            } catch (error) {
                console.error('Error creating checkout session:', error);
                
                // Track checkout error
                if (window.mixpanel && window.mixpanel.track) {
                    window.mixpanel.track('Stripe Checkout Error', {
                        source: 'pricing_page',
                        error: error.message,
                        plan_type: planType,
                        timestamp: new Date().toISOString()
                    });
                    console.log('‚úÖ Mixpanel tracking sent: Stripe Checkout Error');
                }
                
                // Track error in Google Ads
                if (typeof window.gtag === 'function') {
                    window.gtag('event', 'exception', {
                        description: 'Checkout session creation failed: ' + error.message,
                        fatal: false
                    });
                }
                
                alert('Error creating checkout session. Please try again.');
            }
        }

        // Check if user came from login with upgrade intent
        function checkUpgradeIntent() {
            const upgradeAfterLogin = localStorage.getItem('upgradeAfterLogin');
            
            if (upgradeAfterLogin === 'true' && window.Clerk && window.Clerk.user) {
                console.log('User returned after login with upgrade intent');
                localStorage.removeItem('upgradeAfterLogin');
                
                // Wait for page to be fully updated
                setTimeout(() => {
                    console.log('Opening Stripe checkout for Premium...');
                    createCheckoutSession('premium');
                }, 2000);
            }
        }
        
        // Load social proof and testimonial data
        async function loadSocialProof() {
            try {
                // Load total users count
                const statsResponse = await fetch('/api/public/stats');
                if (statsResponse.ok) {
                    const statsData = await statsResponse.json();
                    if (statsData.success && statsData.roundedTotalUsers) {
                        const totalUsersElement = document.getElementById('totalUsersCount');
                        if (totalUsersElement) {
                            totalUsersElement.textContent = `${statsData.roundedTotalUsers}+`;
                        }
                    }
                }
            } catch (error) {
                console.error('Error loading social proof:', error);
            }
        }
        
        async function loadTestimonial() {
            try {
                const testimonialResponse = await fetch('/api/public/testimonial');
                if (testimonialResponse.ok) {
                    const testimonialData = await testimonialResponse.json();
                    if (testimonialData.success) {
                        const nameElement = document.getElementById('testimonialName');
                        const imageElement = document.getElementById('testimonialImage');
                        const initialsElement = document.getElementById('testimonialInitials');
                        
                        if (nameElement && testimonialData.name) {
                            nameElement.textContent = testimonialData.name;
                        }
                        
                        if (imageElement && initialsElement) {
                            if (testimonialData.imageUrl) {
                                imageElement.src = testimonialData.imageUrl;
                                imageElement.style.display = 'block';
                                initialsElement.style.display = 'none';
                                
                                // Handle image load error - fallback to initials
                                imageElement.onerror = function() {
                                    const initial = testimonialData.name ? testimonialData.name.charAt(0).toUpperCase() : 'N';
                                    initialsElement.textContent = initial;
                                    imageElement.style.display = 'none';
                                    initialsElement.style.display = 'flex';
                                };
                            } else {
                                // Use first letter of name or 'N' as fallback
                                const initial = testimonialData.name ? testimonialData.name.charAt(0).toUpperCase() : 'N';
                                initialsElement.textContent = initial;
                                imageElement.style.display = 'none';
                                initialsElement.style.display = 'flex';
                            }
                        }
                    }
                }
            } catch (error) {
                console.error('Error loading testimonial:', error);
            }
        }
        
        // Check upgrade intent after page is updated
        document.addEventListener('DOMContentLoaded', async function() {
            // Wait for Clerk to be ready first
            await waitForClerkReady();
            
            // Check if user returned from canceled checkout (after Clerk is ready)
            checkCheckoutAbandonment();
            
            // Check upgrade intent
            setTimeout(checkUpgradeIntent, 1000);
            
            // Load social proof and testimonial
            loadSocialProof();
            loadTestimonial();
        });
        
        // Track checkout abandonment when user returns from canceled checkout
        function checkCheckoutAbandonment() {
            const urlParams = new URLSearchParams(window.location.search);
            const canceled = urlParams.get('canceled');
            
            if (canceled === '1') {
                console.log('üîÑ User returned from canceled checkout');
                
                // Track checkout abandonment
                if (window.mixpanel && window.mixpanel.track) {
                    window.mixpanel.track('Stripe Checkout Abandoned', {
                        source: 'pricing_page',
                        plan_type: 'premium',
                        timestamp: new Date().toISOString(),
                        return_url: window.location.href
                    });
                    console.log('‚úÖ Mixpanel tracking sent: Stripe Checkout Abandoned');
                }
                
                // Track abandonment in Google Ads
                if (typeof window.gtag === 'function') {
                    window.gtag('event', 'checkout_abandoned', {
                        event_category: 'ecommerce',
                        event_label: 'pricing_page',
                        value: 0,
                        currency: 'USD'
                    });
                    console.log('‚úÖ Google Ads tracking sent: Checkout Abandoned');
                }
                
                // Trigger checkout abandoned email sequence
                if (window.Clerk && window.Clerk.user) {
                    const userId = window.Clerk.user.id;
                    fetch('/api/triggers/on-checkout-abandoned', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ userId })
                    }).then(response => {
                        if (response.ok) {
                            console.log('‚úÖ Checkout abandoned email sequence triggered');
                        } else {
                            console.error('‚ùå Failed to trigger checkout abandoned email sequence');
                        }
                    }).catch(err => {
                        console.error('‚ùå Error triggering abandoned checkout email:', err);
                    });
                }
                
                // Remove the canceled parameter from URL to avoid tracking again on refresh
                const newUrl = window.location.pathname;
                window.history.replaceState({}, document.title, newUrl);
            }
        }
        
        // FAQ Accordion functionality
        document.addEventListener('DOMContentLoaded', function() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const faqItem = this.closest('.faq-item');
                    const isExpanded = faqItem.getAttribute('aria-expanded') === 'true';
                    
                    // Close all other FAQ items
                    document.querySelectorAll('.faq-item').forEach(item => {
                        if (item !== faqItem) {
                            item.setAttribute('aria-expanded', 'false');
                        }
                    });
                    
                    // Toggle current item
                    faqItem.setAttribute('aria-expanded', !isExpanded);
                });
            });
        });
        
        // Initialize header CTA visibility on scroll
        function initHeaderCTAScroll() {
            const headerCTA = document.getElementById('headerCTA');
            const heroSection = document.querySelector('.pricing-page-header-section');
            
            if (!headerCTA || !heroSection) {
                console.warn('Header CTA or hero section not found');
                return;
            }
            
            // Throttle scroll events for better performance
            let ticking = false;
            
            function checkScroll() {
                const heroBottom = heroSection.offsetTop + heroSection.offsetHeight;
                const scrollPosition = window.scrollY;
                
                // Show CTA when user scrolls past the hero section
                if (scrollPosition > heroBottom - 100) {
                    headerCTA.classList.add('visible');
                } else {
                    headerCTA.classList.remove('visible');
                }
                
                ticking = false;
            }
            
            window.addEventListener('scroll', function() {
                if (!ticking) {
                    window.requestAnimationFrame(function() {
                        checkScroll();
                        ticking = false;
                    });
                    ticking = true;
                }
            });
            
            // Check initial scroll position
            checkScroll();
        }
        
    </script>
</body>
</html>

