<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focus Timer</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS10YXJnZXQtaWNvbiBsdWNpZGUtdGFyZ2V0Ij48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIvPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjYiLz48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIyIi8+PC9zdmc+Cg==">
    <link rel="stylesheet" href="style.css?v=6.1">
    <!-- Clerk Auth -->
    <script async crossorigin="anonymous" 
            data-clerk-publishable-key="pk_live_Y2xlcmsuc3VwZXJmb2N1cy5saXZlJA" 
            src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js" 
            type="text/javascript"></script>
</head>
<body>
    <!-- Unified Header -->
    <header class="main-header">
        <div class="header-left">
            <div class="logo-icon" id="logoIcon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-target-icon lucide-target">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="6"/>
                    <circle cx="12" cy="12" r="2"/>
                </svg>
            </div>
        </div>
        
        <div class="header-center">
            <div class="technique-dropdown" id="techniqueDropdown">
                <button class="technique-title" id="techniqueTitle">
                    Pomodoro<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down-icon lucide-chevron-down"><path d="m6 9 6 6 6-6"/></svg>
                </button>
                <div class="dropdown-menu" id="dropdownMenu">
                    <div class="dropdown-item" data-technique="pomodoro">
                        <div class="item-content">
                            <div class="item-title">Pomodoro</div>
                            <div class="item-description">25 min focus, 5 min break, 15 min long break</div>
                            <div class="item-link">
                                <a href="#" class="learn-more-link" data-technique="pomodoro">Learn more</a>
                            </div>
                        </div>
                        <div class="item-badge free">FREE</div>
                    </div>
                    <div class="dropdown-item requires-account" data-technique="pomodoro-plus" data-requires-account="true">
                        <div class="item-content">
                            <div class="item-title">Long Pomodoro</div>
                            <div class="item-description">50 min focus, 10 min break</div>
                            <div class="item-link">
                                <a href="#" class="learn-more-link" data-technique="pomodoro-plus">Learn more</a>
                            </div>
                        </div>
                        <div class="item-badge locked"><span>LOGIN</span></div>
                    </div>
                    <div class="dropdown-item requires-account" data-technique="ultradian-rhythm" data-requires-account="true">
                        <div class="item-content">
                            <div class="item-title">Ultradian Rhythm</div>
                            <div class="item-description">90 min focus, 20 min break</div>
                            <div class="item-link">
                                <a href="#" class="learn-more-link" data-technique="ultradian-rhythm">Learn more</a>
                            </div>
                        </div>
                        <div class="item-badge locked"><span>LOGIN</span></div>
                    </div>
                    <div class="dropdown-item requires-account" data-technique="custom" data-requires-account="true">
                        <div class="item-content">
                            <div class="item-title">Custom Timer</div>
                            <div class="item-description">Create your own focus technique</div>
                            <div class="item-link">
                                <a href="#" class="learn-more-link" data-technique="custom">Configure</a>
                            </div>
                        </div>
                        <div class="item-badge locked"><span>LOGIN</span></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="header-right">
            <!-- Auth Buttons -->
            <div class="auth-container" id="authContainer">
                <button class="login-button" id="loginButton">Login</button>
                <button class="signup-button" id="signupButton">Sign up for free</button>
            </div>
            
            <!-- User Profile (shown when authenticated) -->
            <div class="user-profile-container" id="userProfileContainer" style="display: none;">
                <button class="user-profile-button" id="userProfileButton" aria-label="Account">
                    <img id="userAvatar" alt="User avatar" />
                </button>
                <div class="user-profile-dropdown" id="userProfileDropdown" style="display: none;">
                    <div class="user-dropdown-menu" id="userDropdownMenu">
                        <div class="user-info">
                            <div class="user-email" id="userEmail">jcjimenezglez@gmail.com</div>
                            <div class="pro-badge" id="userProBadge" style="display: none;">PRO</div>
                        </div>
                        <div class="dropdown-item" id="upgradeToProButton">
                            <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            <span>Upgrade to Pro</span>
                        </div>
                        <div class="dropdown-item" id="manageSubscriptionButton" style="display: none;">
                            <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            <span>Manage subscription</span>
                        </div>
                        <div class="dropdown-item" id="settingsButton">
                            <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            <span>Settings</span>
                        </div>
                        <div class="dropdown-item" id="integrationsButton">
                            <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 22v-5"/>
                                <path d="M9 8V2"/>
                                <path d="M15 8V2"/>
                                <path d="M18 8v5a4 4 0 0 1-4 4H10a4 4 0 0 1-4-4V8"/>
                            </svg>
                            <span>Integrations</span>
                        </div>
                        <div class="dropdown-item" id="developerButton">
                            <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="16,18 22,12 16,6"/>
                                <polyline points="8,6 2,12 8,18"/>
                            </svg>
                            <span>Developer</span>
                        </div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item">
                            <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                <polyline points="16,17 21,12 16,7"/>
                                <line x1="21" y1="12" x2="9" y2="12"/>
                            </svg>
                            <span>Log out</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    
    <div class="container">
        <div class="timer-container">
            <svg class="progress-ring" viewBox="0 0 100 100">
                <!-- Liquid Glass Gradient Definition -->
                <defs>
                    <linearGradient id="liquidGlassGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:rgba(255,255,255,0.6);stop-opacity:1" />
                        <stop offset="25%" style="stop-color:rgba(255,255,255,0.4);stop-opacity:1" />
                        <stop offset="50%" style="stop-color:rgba(255,255,255,0.2);stop-opacity:1" />
                        <stop offset="75%" style="stop-color:rgba(255,255,255,0.3);stop-opacity:1" />
                        <stop offset="100%" style="stop-color:rgba(255,255,255,0.5);stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="liquidGlassOverlay" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:rgba(255,255,255,0.3);stop-opacity:1" />
                        <stop offset="30%" style="stop-color:rgba(255,255,255,0.2);stop-opacity:1" />
                        <stop offset="70%" style="stop-color:rgba(255,255,255,0.25);stop-opacity:1" />
                        <stop offset="100%" style="stop-color:rgba(255,255,255,0.35);stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="workIndicator" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:rgba(255,255,255,0.9);stop-opacity:1" />
                        <stop offset="30%" style="stop-color:rgba(255,255,255,0.7);stop-opacity:1" />
                        <stop offset="70%" style="stop-color:rgba(255,255,255,0.8);stop-opacity:1" />
                        <stop offset="100%" style="stop-color:rgba(255,255,255,0.95);stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="breakIndicator" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#78dbff;stop-opacity:0.9" />
                        <stop offset="30%" style="stop-color:#78dbff;stop-opacity:0.7" />
                        <stop offset="70%" style="stop-color:#78dbff;stop-opacity:0.8" />
                        <stop offset="100%" style="stop-color:#78dbff;stop-opacity:0.95" />
                    </linearGradient>
                    <linearGradient id="longBreakIndicator" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ff77c6;stop-opacity:0.9" />
                        <stop offset="30%" style="stop-color:#ff77c6;stop-opacity:0.7" />
                        <stop offset="70%" style="stop-color:#ff77c6;stop-opacity:0.8" />
                        <stop offset="100%" style="stop-color:#ff77c6;stop-opacity:0.95" />
                    </linearGradient>
                </defs>
                <!-- Segmented progress circle starting from 12 o'clock -->
                <g class="progress-segments">
                    <!-- We lay out lengths/offsets via JS so they are exact -->
                    <!-- Section 1: 25min Work (starts at 12 o'clock) -->
                    <circle class="progress-segment work-segment" data-section="1" data-minutes="25" cx="50" cy="50" r="45" fill="none"/>
                    <!-- Section 2: 5min Break -->
                    <circle class="progress-segment break-segment" data-section="2" data-minutes="5" cx="50" cy="50" r="45" fill="none"/>
                    <!-- Section 3: 25min Work -->
                    <circle class="progress-segment work-segment" data-section="3" data-minutes="25" cx="50" cy="50" r="45" fill="none"/>
                    <!-- Section 4: 5min Break -->
                    <circle class="progress-segment break-segment" data-section="4" data-minutes="5" cx="50" cy="50" r="45" fill="none"/>
                    <!-- Section 5: 25min Work -->
                    <circle class="progress-segment work-segment" data-section="5" data-minutes="25" cx="50" cy="50" r="45" fill="none"/>
                    <!-- Section 6: 5min Break -->
                    <circle class="progress-segment break-segment" data-section="6" data-minutes="5" cx="50" cy="50" r="45" fill="none"/>
                    <!-- Section 7: 25min Work -->
                    <circle class="progress-segment work-segment" data-section="7" data-minutes="25" cx="50" cy="50" r="45" fill="none"/>
                    <!-- Section 8: 15min Long Break -->
                    <circle class="progress-segment long-break-segment" data-section="8" data-minutes="15" cx="50" cy="50" r="45" fill="none"/>
                </g>
                <!-- Glowing per-segment overlay that fills without bridging gaps -->
                <g class="progress-overlays">
                    <circle class="progress-overlay" data-ol="1" cx="50" cy="50" r="45" fill="none"/>
                    <circle class="progress-overlay" data-ol="2" cx="50" cy="50" r="45" fill="none"/>
                    <circle class="progress-overlay" data-ol="3" cx="50" cy="50" r="45" fill="none"/>
                    <circle class="progress-overlay" data-ol="4" cx="50" cy="50" r="45" fill="none"/>
                    <circle class="progress-overlay" data-ol="5" cx="50" cy="50" r="45" fill="none"/>
                    <circle class="progress-overlay" data-ol="6" cx="50" cy="50" r="45" fill="none"/>
                    <circle class="progress-overlay" data-ol="7" cx="50" cy="50" r="45" fill="none"/>
                    <circle class="progress-overlay" data-ol="8" cx="50" cy="50" r="45" fill="none"/>
                </g>
                
                <!-- Active progress indicator -->
                <circle class="progress-indicator" cx="50" cy="50" r="45" 
                        stroke-width="3" fill="none"
                        stroke-dasharray="283" stroke-dashoffset="283"/>
            </svg>
            
            <div class="timer-content">
                <div class="time" id="time">25:00</div>
                <div class="current-task" id="currentTask" style="display: none;">Aplicando a Jobs</div>
                <div class="session-info" id="sessionInfo">Session 1 of 4</div>
            </div>
            </div>
        </div>
        
    <!-- Footer with Start/Pause, Reset, and Navigation buttons -->
    <footer class="timer-footer">
        <button id="musicToggleBtn" class="nav-btn music-btn" title="Toggle Background Music">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 18V5l12-2v13"/>
                <circle cx="6" cy="18" r="3"/>
                <circle cx="18" cy="16" r="3"/>
            </svg>
        </button>
        <button id="prevSectionBtn" class="nav-btn prev-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
        </button>
        <button id="startPause" class="start-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="play-icon">
                <polygon points="5,3 19,12 5,21"/>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pause-icon lucide-pause pause-icon">
                <rect x="14" y="3" width="5" height="18" rx="1"/>
                <rect x="5" y="3" width="5" height="18" rx="1"/>
            </svg>
        </button>
        <button id="nextSectionBtn" class="nav-btn next-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 18l6-6-6-6"/>
            </svg>
        </button>
        <button id="taskToggleBtn" class="nav-btn task-btn" title="Integrations">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list-todo-icon lucide-list-todo">
                <path d="M13 5h8"/>
                <path d="M13 12h8"/>
                <path d="M13 19h8"/>
                <path d="m3 17 2 2 4-4"/>
                <rect x="3" y="4" width="6" height="6" rx="1"/>
            </svg>
        </button>
    </footer>
    
    <!-- Hidden audio elements -->
    <audio id="backgroundAudio" loop></audio>

    <!-- Welcome Back Modal for Guest Users -->
    <div class="welcome-modal-overlay" id="welcomeModalOverlay" style="display: none;">
        <div class="welcome-modal">
            <h3 class="welcome-modal-title">Welcome back</h3>
            <p class="welcome-modal-message">Log in or sign up to get smarter responses, upload files and images, and more.</p>
            <div class="welcome-modal-buttons">
                <button class="welcome-modal-btn welcome-modal-btn-primary" id="welcomeLoginBtn">Log in</button>
                <button class="welcome-modal-btn welcome-modal-btn-secondary" id="welcomeSignupBtn">Sign up for free</button>
            </div>
            <div class="welcome-modal-footer">
                <button class="welcome-modal-link" id="stayLoggedOutBtn">Stay logged out</button>
            </div>
        </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div class="logout-modal-overlay" id="logoutModalOverlay" style="display: none;">
        <div class="logout-modal">
            <h3 class="logout-modal-title">Are you sure you want<br>to log out?</h3>
            <p class="logout-modal-message" id="logoutModalMessage">Log out of True Tempo as user@example.com?</p>
            <div class="logout-modal-buttons">
                <button class="logout-modal-btn logout-modal-btn-primary" id="confirmLogoutBtn">Log out</button>
                <button class="logout-modal-btn logout-modal-btn-secondary" id="cancelLogoutBtn">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Custom Timer Configuration Modal -->
    <div class="custom-timer-modal-overlay" id="customTimerModal">
        <div class="custom-timer-modal">
            <div class="custom-timer-header">
                <h3>Configure Custom Timer</h3>
                <button class="close-custom-timer-x" id="closeCustomTimer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-icon lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
            </div>
            <div class="custom-timer-content">
                <div class="custom-timer-form">
                    <div class="form-group">
                        <label for="customName">Timer Name</label>
                        <input type="text" id="customName" placeholder="e.g., My Focus" maxlength="10">
                        <div class="error-message" id="customNameError" style="display: none;">Maximum 10 characters</div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="focusTime">Focus Time (minutes)</label>
                            <input type="number" id="focusTime" min="1" max="180" value="25">
                            <div class="error-message" id="focusTimeError" style="display: none;">Maximum 180 minutes</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="breakTime">Break Time (minutes)</label>
                            <input type="number" id="breakTime" min="1" max="60" value="5">
                            <div class="error-message" id="breakTimeError" style="display: none;">Maximum 60 minutes</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="longBreakTime">Long Break Time (minutes)</label>
                            <input type="number" id="longBreakTime" min="0" max="60" value="15">
                            <div class="error-message" id="longBreakTimeError" style="display: none;">Maximum 60 minutes</div>
                            <small>Set to 0 to disable long breaks</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="cycles">Number of Cycles</label>
                            <input type="number" id="cycles" min="1" max="10" value="4">
                            <div class="error-message" id="cyclesError" style="display: none;">Maximum 10 cycles</div>
                            <small>How many focus sessions before long break</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="custom-timer-actions">
                <button class="custom-timer-btn custom-timer-btn-primary" id="saveCustomTimer" disabled>Save</button>
                <button class="custom-timer-btn custom-timer-btn-secondary" id="cancelCustomTimer">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Upgrade to Pro Modal -->
    <div class="upgrade-modal-overlay" id="upgradeModal" style="display: none;">
        <div class="upgrade-modal">
            <button class="close-upgrade-x">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-icon lucide-x">
                    <path d="M18 6 6 18"/>
                    <path d="m6 6 12 12"/>
                </svg>
            </button>
            <div class="upgrade-content">
                <div class="upgrade-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-gem-icon lucide-gem">
                        <path d="M10.5 3 8 9l4 13 4-13-2.5-6"/>
                        <path d="M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z"/>
                        <path d="M2 9h20"/>
                    </svg>
                </div>
                <h3>Upgrade to Pro</h3>
                <p>Unlock advanced features and get the most out of your focus sessions.</p>
                <div class="upgrade-features">
                    <div class="upgrade-feature">
                        <span class="upgrade-feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20 6 9 17l-5-5"/>
                            </svg>
                        </span>
                        <span class="upgrade-feature-text">Support and integration with Todoist, Notion, and more (coming soon)</span>
                    </div>
                    <div class="upgrade-feature">
                        <span class="upgrade-feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20 6 9 17l-5-5"/>
                            </svg>
                        </span>
                        <span class="upgrade-feature-text">Export/backup of data (coming soon)</span>
                    </div>
                    <div class="upgrade-feature">
                        <span class="upgrade-feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20 6 9 17l-5-5"/>
                            </svg>
                        </span>
                        <span class="upgrade-feature-text">PRO badge and early access to new features</span>
                    </div>
                </div>
                <div class="upgrade-required-buttons">
                    <button class="upgrade-btn" id="upgradeToProButton">Upgrade Now - $9/year</button>
                    <button class="cancel-btn" id="upgradeCancelBtn">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Settings Modal -->
    <div class="settings-modal-overlay" id="settingsModal" style="display: none;">
        <div class="settings-modal">
            <button class="close-settings-x">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x-icon lucide-x">
                    <path d="M18 6 6 18"/>
                    <path d="m6 6 12 12"/>
                </svg>
            </button>
            
            <div class="settings-container">
                <!-- Left Navigation -->
                <div class="settings-nav">
                    <div class="settings-nav-item active" data-tab="general">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings-icon lucide-settings">
                            <path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                        <span>General</span>
                    </div>
                    <div class="settings-nav-item" data-tab="account">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-icon lucide-user">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                        <span>Account</span>
                    </div>
                    <div class="settings-nav-item" data-tab="integrations">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plug-icon lucide-plug">
                            <path d="M12 22v-5"/>
                            <path d="M9 8V2"/>
                            <path d="M15 8V2"/>
                            <path d="M18 8v5a4 4 0 0 1-4 4H10a4 4 0 0 1-4-4V8"/>
                        </svg>
                        <span>Integrations</span>
                    </div>
                    <div class="settings-nav-item" data-tab="developer">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code-icon lucide-code">
                            <polyline points="16,18 22,12 16,6"/>
                            <polyline points="8,6 2,12 8,18"/>
                        </svg>
                        <span>Developer</span>
                    </div>
                </div>
                
                <!-- Right Content -->
                <div class="settings-content">
                    <!-- General Tab -->
                    <div class="settings-tab active" id="general-tab">
                        <h3>General</h3>
                        <div class="settings-section">
                            <div class="settings-item">
                                <div class="settings-label-group">
                                    <span class="settings-label">Theme</span>
                                    <span class="settings-description">Choose your preferred theme</span>
                                </div>
                                <select class="settings-select">
                                    <option value="dark">Dark</option>
                                    <option value="light">Light</option>
                                    <option value="auto">Auto</option>
                                </select>
                            </div>
                            
                            <div class="settings-item">
                                <div class="settings-label-group">
                                    <span class="settings-label">Language</span>
                                    <span class="settings-description">Select your preferred language</span>
                                </div>
                                <select class="settings-select">
                                    <option value="en">English</option>
                                    <option value="es">Spanish</option>
                                    <option value="fr">French</option>
                                </select>
                            </div>
                            
                            <div class="settings-item">
                                <div class="settings-label-group">
                                    <span class="settings-label">Notifications</span>
                                    <span class="settings-description">Enable session completion notifications</span>
                                </div>
                                <label class="settings-toggle">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Account Tab -->
                    <div class="settings-tab" id="account-tab">
                        <h3>Account</h3>
                        <div class="settings-section">
                            <div class="settings-item">
                                <div class="settings-label-group">
                                    <span class="settings-label">Reset Focus Stats</span>
                                    <span class="settings-description">Clear all your focus statistics and start fresh</span>
                                </div>
                                <button id="settingsResetButton" class="settings-reset-btn">Reset</button>
                            </div>
                            
                            <div class="settings-item">
                                <div class="settings-label-group">
                                    <span class="settings-label">Export Data</span>
                                    <span class="settings-description">Download your focus data as CSV</span>
                                </div>
                                <button class="settings-export-btn">Export</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Integrations Tab -->
                    <div class="settings-tab" id="integrations-tab">
                        <h3>Integrations</h3>
                        <div class="settings-section">
                            <div class="settings-item">
                                <div class="settings-label-group">
                                    <span class="settings-label">Todoist</span>
                                    <span class="settings-description">Connect your Todoist account to sync tasks</span>
                                </div>
                                <div class="integration-controls">
                                    <button id="connectTodoistBtn" class="btn-primary">Connect to Todoist</button>
                                    <button id="disconnectTodoistBtn" class="btn-secondary" style="display:none;">Disconnect</button>
                                    <button id="fetchTodoistTasksBtn" class="btn-success" style="display:none;">Fetch Tasks</button>
                                </div>
                                <div id="todoistStatusText" class="tasks-subtitle"></div>
                            </div>

                            
                        </div>
                    </div>
                    
                    <!-- Developer Tab -->
                    <div class="settings-tab" id="developer-tab">
                        <h3>Developer</h3>
                        <div class="settings-section">
                            <div class="settings-item">
                                <div class="settings-label-group">
                                    <span class="settings-label">View Mode Toggle</span>
                                    <span class="settings-description">Switch between different user views for testing</span>
                                </div>
                                <div class="view-mode-buttons">
                                    <button id="guestModeBtn" class="view-mode-btn">Guest</button>
                                    <button id="freeModeBtn" class="view-mode-btn">Free</button>
                                    <button id="proModeBtn" class="view-mode-btn active">Pro</button>
                                </div>
                                <div class="view-mode-actions">
                                    <button id="applyViewModeBtn" class="apply-view-mode-btn">Apply</button>
                                </div>
                            </div>
                            
                            <div class="settings-item">
                                <div class="settings-label-group">
                                    <span class="settings-label">Debug Mode</span>
                                    <span class="settings-description">Enable console logging for debugging</span>
                                </div>
                                <label class="settings-toggle">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js?v=8.2"></script>
</body>
</html>